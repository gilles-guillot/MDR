geom_vline(xintercept=d1,col='firebrick2',linetype='solid') +
geom_hline(yintercept=d2,col='firebrick2',linetype='solid') +
geom_vline(xintercept=0,col='firebrick2',linetype='solid')  +
xlab('') +  ylab('') +
theme(axis.text.x = element_blank(), axis.text.y = element_blank())
p2
d1 = c(0,.8,2,6,10,20)
x = rep(d1,2)
xy = cbind(x,y)
xy = as.data.frame(xy)
colnames(xy) = c('x','y')
p4 <- ggplot(xy,aes(x,y)) + geom_point(col="steelblue", size=3) +
geom_abline(slope=0,intercept=0,col='firebrick2',linetype='solid') +
geom_vline(xintercept=d1,col='firebrick2',linetype='solid') +
geom_hline(yintercept=d2,col='firebrick2',linetype='solid') +
geom_vline(xintercept=0,col='firebrick2',linetype='solid')  +
xlab('Dose compound 1') +  ylab('') +
theme(axis.text.x = element_blank(), axis.text.y = element_blank())
p4
plot(xy)
d1 = c(0,.8,2,6,10,20)
d2 = c(0,.5,1.5,5,12,20)
x = rep(d1,2)
y = rep(d2,each=2)
xy = cbind(x,y)
xy = as.data.frame(xy)
plot(xy)
d1 = c(0,.8,2,6,10,20)
d2 = c(0,.5,1.5,5,12,20)
y = rep(d2,each=6)
xy = cbind(x,y)
xy = as.data.frame(xy)
colnames(xy) = c('x','y')
xy
d1 = c(0,.8,2,6,10,20)
d2 = c(0,5)
x = rep(d1,2)
y = rep(d2,each=2)
xy = cbind(x,y)
xy = as.data.frame(xy)
colnames(xy) = c('x','y')
plot(xy)
d1 = c(0,.8,2,6,10,20)
x = rep(d1,2)
y = rep(d2,each=2)
xy = cbind(x,y)
xy = rbind(xy,cbind(rep(0,6),c(0,.5,1.5,5,12,20))
colnames(xy) = c('x','y')
xy = rbind(xy,cbind(rep(0,6),c(0,.5,1.5,5,12,20)))
xy = cbind(x,y)
d1 = c(0,.8,2,6,10,20)
d2 = c(0,5)
y = rep(d2,each=2)
xy = cbind(x,y)
xy = rbind(xy,cbind(rep(0,6),c(0,.5,1.5,5,12,20)))
xy = as.data.frame(xy)
colnames(xy) = c('x','y')
p4 <- ggplot(xy,aes(x,y)) + geom_point(col="steelblue", size=3) +
geom_abline(slope=0,intercept=0,col='firebrick2',linetype='solid') +
# geom_vline(xintercept=d1,col='firebrick2',linetype='solid') +
geom_hline(yintercept=d2,col='firebrick2',linetype='solid') +
#geom_vline(xintercept=0,col='firebrick2',linetype='solid')  +
xlab('Dose compound 1') +  ylab('') + ylim(0,20) +
theme(axis.text.x = element_blank(), axis.text.y = element_blank())
p4
p4 <- ggplot(xy,aes(x,y)) + geom_point(col="steelblue", size=3) +
geom_abline(slope=0,intercept=0,col='firebrick2',linetype='solid') +
# geom_vline(xintercept=d1,col='firebrick2',linetype='solid') +
geom_hline(yintercept=d2,col='firebrick2',linetype='solid') +
geom_vline(xintercept=0,col='firebrick2',linetype='solid')  +
xlab('Dose compound 1') +  ylab('') + ylim(0,20) +
theme(axis.text.x = element_blank(), axis.text.y = element_blank())
p4
library(bookdown)
install.packages(bookdown)
install.packages('bookdown')
library(bookdown)
document()
check()
document()
check()
build()
install()
document()
document()
check()
document()
check()
document()
check()
document()
document()
check()
document()
document()
check()
document()
check()
document()
document()
check()
document()
check()
document()
check()
document()
check()
document()
check()
document()
document()
check()
document()
check()
document()
check()
document()
warnings()
document()
warnings()
document()
document()
document()
warnings()
check()
document()
document()
check()
document()
check()
build()
install()
use_vignette()
?use_vignette
devtools::install('MDR')
devtools::install()
devtools::build()
install()
document()
document()
options(usethis.protocol = "ssh")
library(devtools)
library(roxygen2)
library(usethis)
setwd("/home/gilles/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR")
document()
check()
build_vignettes()
build()
install()
build_vignettes()
build()
build()
install()
?install
install(build_vignettes = TRUE)
document()
check()
build()
install(build_vignettes = TRUE)
## Simulation of mixture data
a1 = 5 ; b1 = .3
a2 = 7 ; b2 = .7
#
d =  c(0,.4,.8,1.5,3,6,12,20)
w = 1
xy = cbind(w*d,(1-w)*d)
w = 0
xy = rbind(xy,cbind(w*d,(1-w)*d))
w = .7
xy = rbind(xy,cbind(w*d,(1-w)*d))
#
x = xy[,1]
y = xy[,2]
plot(x,y)
n = rep(36,length(x))
? Sim_Mixture
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,distribution,par_dist=1)
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Sim_Mixture.R')
## Simulation of mixture data
a1 = 5 ; b1 = .3
a2 = 7 ; b2 = .7
#
d =  c(0,.4,.8,1.5,3,6,12,20)
w = 1
xy = cbind(w*d,(1-w)*d)
w = 0
xy = rbind(xy,cbind(w*d,(1-w)*d))
w = .7
xy = rbind(xy,cbind(w*d,(1-w)*d))
#
x = xy[,1]
y = xy[,2]
n = rep(36,length(x))
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,distribution,par_dist=1)
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Sim_Mixture.R')
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,distribution,par_dist=1)
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Sim_Mixture.R')
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom',par_dist=1)
document()
check()
build()
install(build_vignettes = TRUE)
library(MDR)
## Simulation of mixture data
a1 = 5 ; b1 = .3
a2 = 7 ; b2 = .7
#
d =  c(0,.4,.8,1.5,3,6,12,20)
w = 1
xy = cbind(w*d,(1-w)*d)
w = 0
xy = rbind(xy,cbind(w*d,(1-w)*d))
w = .7
xy = rbind(xy,cbind(w*d,(1-w)*d))
#
x = xy[,1]
y = xy[,2]
n = rep(36,length(x))
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom',par_dist=1)
? MDR
??MDR
document()
check()
build()
install(build_vignettes = TRUE)
library(MDR)
a1 = 5 ; b1 = .3
a2 = 7 ; b2 = .7
#
d =  c(0,.4,.8,1.5,3,6,12,20)
w = 1
xy = cbind(w*d,(1-w)*d)
w = 0
xy = rbind(xy,cbind(w*d,(1-w)*d))
w = .7
xy = rbind(xy,cbind(w*d,(1-w)*d))
#
x = xy[,1]
y = xy[,2]
n = rep(36,length(x))
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom',par_dist=1)
str(dat)
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Hill.R')
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom',par_dist=1)
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/DR_Voelund_Hill2.R')
str(dat)
dat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom',par_dist=1)
str(dat)
? save
simdat1 = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom',par_dist=1)
str(simdat1)
save(dat,'./data/simdat1.Rd')
save(dat,file='./data/simdat1.Rd')
document()
check()
save(simdat1,file='./data/simdat1.rda')
document()
check()
build()
document()
document()
check()
document()
check()
document()
check()
document()
check()
document()
check()
document()
check()
build()
install(build_vignettes = TRUE)
document()
check()
build()
install(build_vignettes = TRUE)
document()
check()
document()
check()
build()
install(build_vignettes = TRUE)
## Computing MDR
Compute_MDR(x=simdat1$x,
y=simdat1$y,
z=simdat1$z,
n=simdat1$n,
models=c('Hill2'),
design='single-ray',
lower = c(0.0001,0.0001,0.0001,0.0001) ,
upper = c(10,10,1,1) ,
do.plot=FALSE # plot fit of DR curve for the two-compound data
)
document()
check()
? library
library(MDR)
Compute_MDR()
q()
document()
setwd("/home/gilles/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR")
document()
options(usethis.protocol = "ssh")
library(devtools)
library(roxygen2)
library(usethis)
setwd("/home/gilles/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR")
document()
build()
document()
build()
install(build_vignettes = TRUE)
library(MDR)
installed.packages('MDR')
installed.packages()
? installed.packages
library(MDR)
library(MDRR)
rm(simdat1)
simdat1
simdat1
rm(simdat1)
document()
document()
setwd("/home/gilles/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR")
document()
library(devtools)
library(roxygen2)
library(usethis)
document()
use_vignette("MDR")  # only once
document()
check()
library(devtools)
library(roxygen2)
library(usethis)
setwd("/home/gilles/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR")
document()
build()
install(build_vignettes = TRUE)
document()
build()
install(build_vignettes = TRUE)
document()
check()
build()
build()
install(build_vignettes = TRUE)
## Simulation of mixture data
a1 = 5 ; b1 = .3
a2 = 7 ; b2 = .7
#
d =  c(0,.4,.8,1.5,3,6,12,20)
w = 1
xy = cbind(w*d,(1-w)*d)
w = 0
xy = rbind(xy,cbind(w*d,(1-w)*d))
w = .7
xy = rbind(xy,cbind(w*d,(1-w)*d))
#
x = xy[,1]
y = xy[,2]
n = rep(36,length(x))
simdat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom')
str(simdat)
## Storing data
save(simdat,file='./data/simdat.rda')
document()
document()
build()
install(build_vignettes = TRUE)
## Simulation of mixture data
a1 = 5 ; b1 = .3
a2 = 7 ; b2 = .7
#
d =  c(0,.4,.8,1.5,3,6,12,20)
w = 1
xy = cbind(w*d,(1-w)*d)
w = 0
xy = rbind(xy,cbind(w*d,(1-w)*d))
w = .7
xy = rbind(xy,cbind(w*d,(1-w)*d))
#
x = xy[,1]
y = xy[,2]
n = rep(36,length(x))
simdat = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom')
str(simdat)
## Storing data
save(simdat,file='./data/simdat.rda')
simdat
library(MDR)
library(ggplot2)
library(gridExtra)
# library(bookdown)
plot(x[y==0],z[y==0])
library(MDR)
a1 = 5 ; b1 = .3  # parameters Hill DR function for compound 1
a2 = 7 ; b2 = .7  # parameters Hill DR function for compound 2
#
d =  c(0,.4,.8,1.5,3,6,12,20)
w = 1
xy = cbind(w*d,(1-w)*d)
w = 0
xy = rbind(xy,cbind(w*d,(1-w)*d))
w = .7
xy = rbind(xy,cbind(w*d,(1-w)*d))
#
x = xy[,1]
y = xy[,2]
n = rep(36,length(x))
simdat1 = Sim_Mixture(x=x,y=y,n=n,
par_Hill=c(a1,b1,a2,b2),
interaction_model='Loewe',
par_int=NULL,
distribution='binom')
str(simdat1)
res_mdr = Compute_MDR(x=simdat1$x,
y=simdat1$y,
z=simdat1$z,
n=simdat1$n,
models=c('Hill2'),
design='single-ray',
lower = c(0.0001,0.0001,0.0001,0.0001) ,
upper = c(10,10,1,1) ,
do.plot=FALSE )
res_mdr = Compute_MDR(x=simdat1$x,
y=simdat1$y,
z=simdat1$z,
n=simdat1$n,
models=c('Hill2'),
design='single-ray',
lower = c(0.0001,0.0001,0.0001,0.0001) ,
upper = c(10,10,1,1) ,
do.plot=FALSE )
plot(x[y==0],z[y==0])
plot(simdat$x[simdat$y==0],simdat$z[simdat$y==0])
Hill
res_mdr$d50_DA/res_mdr$d50_DA
res_mdr$d50_DA/res_mdr$d50_obs
document()
## check()
build()
install(build_vignettes = TRUE)
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Resample_MDR.R')
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Resample_MDR.R')
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Resample_MDR.R')
document()
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Resample_MDR.R')
document()
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Resample_MDR.R')
document()
source('~/Dropbox/iPRI/projects/ToxPharm/MDR_package/MDR/R/Resample_MDR.R')
document()
document()
document()
document()
document()
document()
document()
document()
document()
document()
document()
document()
## check()
build()
install(build_vignettes = TRUE)
